general:
  artifacts:
    - linter.html
dependencies:
  pre:
    - gem install sass
    - sudo apt-get install pngcrush gifsicle uglifyjs
    - npm install -g uglify-js
    - make submodules
  post:
    - pip install ansible pylint coverage coveralls
test:
  pre:
    - mkdir uploads
    - make
  override:
    - make test
  post:
    - make lint
    - coveralls
deployment:
  ratchet:
    branch: master
    commands:
      - ansible-playbook -i deploy/hosts.txt deploy/ratchet.yml -u spacewiki-deploy
